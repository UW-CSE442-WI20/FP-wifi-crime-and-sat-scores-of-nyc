{"version":3,"sources":["weefee.js"],"names":["XSTART","YSPACING_SCALE","YSPACING_OFFSET","RAW_CIRCLE_ADJUSTMENT","PROCESSED_CIRCLE_ADJUSTMENT","TEXT_RAW_CIRCLE_DIST","SVG_WIDTH","SVG_HEIGHT","svg3","d3","select","append","attr","svg4","mapping","areas","colors","csv","weefee","then","data","forEach","d","BoroName","text","selectAll","entries","enter","i","key","toUpperCase","nodes3","x","y","Math","sqrt","value","style","round","nodes4","$","hide","click","slideToggle"],"mappings":"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","file":"weefee.5d3ec77f.js","sourceRoot":"../src","sourcesContent":["import weefee from \"./weefee.csv\";\n\nconst XSTART = 0;\n\nconst YSPACING_SCALE = 160;\nconst YSPACING_OFFSET = 100;\n\nconst RAW_CIRCLE_ADJUSTMENT = 2.5;\nconst PROCESSED_CIRCLE_ADJUSTMENT = 16;\n\nconst TEXT_RAW_CIRCLE_DIST = 230;\n\nconst SVG_WIDTH = 350;\nconst SVG_HEIGHT = 800;\n\n// Make left side SVG Container\nvar svg3 = d3.select(\"#viz2\")\n                    .append(\"svg\")\n                    .attr(\"width\", 320)\n                    .attr(\"height\", SVG_HEIGHT)\n                    .attr(\"transform\", \"translate(0,0)\"); // todo: try deleting this see if anything changes\n\nvar svg4 = d3.select(\"#viz2\")\n                    .append(\"svg\")\n                    .attr(\"width\", SVG_WIDTH)\n                    .attr(\"height\", SVG_HEIGHT)\n                    .attr(\"id\", \"right-circles2\");\n                    \nvar mapping = {\"Brooklyn\": 0, \"Manhattan\": 0, \"Bronx\": 0, \"Queens\": 0, \"Staten Island\": 0};\nvar areas = {\"Brooklyn\": 69.5, \"Manhattan\": 22.8, \"Bronx\": 42.5, \"Queens\": 108.1, \"Staten Island\": 58.69};  \nvar colors = [\"firebrick\", \"orange\", \"gold\", \"green\", \"steelblue\"];\n\nd3.csv(weefee).then(function(data) {\n\n    data.forEach(function(d) {\n        if (d.BoroName in mapping) {\n            mapping[d.BoroName]++;\n        }\n    });\n\n    // Add the SVG Text Element to the svgContainer\n    var text = svg3.selectAll(\".labels\")\n        .data(d3.entries(mapping))\n        .enter()\n        .append(\"text\")\n        .attr(\"x\", XSTART)\n        .attr(\"y\", function(d, i) {\n            return i * YSPACING_SCALE + YSPACING_OFFSET;\n        })\n        .text(function(d){\n            return d.key.toUpperCase();\n        });\n\n    var nodes3 = svg3.append(\"g\")\n        .attr(\"class\", \"nodes\")\n        .selectAll(\"circle\")\n        .data(d3.entries(mapping))\n        .enter()\n        // Add one g element for each data node here.\n        .append(\"g\")\n        // Position the g element like the circle element used to be.\n        .attr(\"transform\", function(d, i) {\n            // Set d.x and d.y here so that other elements can use it. d is \n            // expected to be an object here.\n            d.x = XSTART + TEXT_RAW_CIRCLE_DIST;\n            d.y = i * YSPACING_SCALE + YSPACING_OFFSET\n            return \"translate(\" + d.x + \",\" + d.y + \")\"; \n        });\n\n    // Add a circle element to the previously added g element.\n    nodes3.append(\"circle\")\n        .attr(\"class\", \"node\")\n        .attr(\"r\", function(d) {\n            return Math.sqrt(d.value) * RAW_CIRCLE_ADJUSTMENT;\n        })\n        .style(\"fill\", function(d, i) {\n            return colors[i];\n        })\n        .append(\"svg:title\")\n        .text(function(d) {\n            return d.key + \": \" + d.value + \" wifi hotspots\"\n        });\n\n    // Add a text element to the previously added g element.\n    nodes3.append(\"text\")\n        .attr(\"text-anchor\", \"middle\")\n        .text(function(d) {\n            return Math.round(d.value);\n        });\n\n    var nodes4 = svg4.append(\"g\")\n        .attr(\"class\", \"nodes\")\n        .selectAll(\"circle\")\n        .data(d3.entries(mapping))\n        .enter()\n        // Add one g element for each data node here.\n        .append(\"g\")\n        // Position the g element like the circle element used to be.\n        .attr(\"transform\", function(d, i) {\n        // Set d.x and d.y here so that other elements can use it. d is \n        // expected to be an object here.\n         d.x = XSTART + TEXT_RAW_CIRCLE_DIST;\n         d.y = i * YSPACING_SCALE + YSPACING_OFFSET\n         return \"translate(\" + d.x + \",\" + d.y + \")\"; \n        });\n\n    // Add a circle element to the previously added g element.\n    nodes4.append(\"circle\")\n        .attr(\"class\", \"node\")\n        .attr(\"r\", function(d) {\n            return Math.sqrt(d.value / areas[d.key]) * PROCESSED_CIRCLE_ADJUSTMENT;\n        })\n        .style(\"fill\", function(d, i) {\n            return colors[i];\n        })\n        .append(\"svg:title\")\n        .text(function(d) {\n            return d.key + \": \" + Math.round(d.value / areas[d.key]) + \" wifi hotspots per square mile\";\n        });\n\n    // Add a text element to the previously added g element.\n    nodes4.append(\"text\")\n        .attr(\"text-anchor\", \"middle\")\n        .text(function(d) {\n            return Math.round(d.value / areas[d.key]);\n        });\n});\n\n$(\"#right-circles2\").hide();\n$(\".right-circle-title2\").hide();\n$(\".reveal-text2\").hide();\n\n$(\".reveal-btn2\").click(function() {\n    $(\"#right-circles2\").slideToggle(700);\n    $(\".right-circle-title2\").slideToggle(700);\n    $(\".reveal-text2\").slideToggle(700);\n});"]}